<nb-card *ngFor="let site of (sites | async)">
  <nb-card-header>
    <h1>{{ site.name }}</h1>
  </nb-card-header>
  <nb-card-body>
    <div class="row" *ngIf="site?.actorsArray?.length" >
      <div class="col-xxxl-3 col-md-6 col-sm-12" *ngFor="let actor of site.actorsArray">
        <app-status-card
          type="primary"
          [title]="actor.location"
          [on]="(getActorValue(actor.key) | async)?.value"
          (valueChange)="setActorValue(actor.key, $event)"
          [iconClass]="actor.iconClass"
        >
        </app-status-card>
      </div>
    </div>
    <div class="row">
      <div class="col-xxxl-3 col-md-4 col-sm-12" *ngFor="let sensor of site.sensorsArray">
        <app-device-monitoring [title]="sensor.location" [sensorData]="getSensorValue(sensor.key) | async"></app-device-monitoring>
      </div>
    </div>
  </nb-card-body>
  <nb-card-footer>
    <div echarts [options]="getChart(site.key) | async" class="echart"></div>
  </nb-card-footer>
</nb-card>

<div class="row">
  <div class="col-xxxl-3 col-md-6" *ngFor="let statusCard of statusCards">
    <app-status-card [title]="statusCard.title" [type]="statusCard.type">
      <i [ngClass]="statusCard.iconClass"></i>
    </app-status-card>
  </div>
</div>

<div class="row">
  <div class="col">
    <app-device-monitoring devtype="temperature"></app-device-monitoring>
  </div>
  <div class="col">
    <app-device-monitoring devtype="humidity"></app-device-monitoring>
  </div>
  <div class="col">
    <app-device-monitoring devtype="electricity"></app-device-monitoring>
  </div>
</div>

<div class="row">
  <div class="col-xxxl-9 col-xl-12">
    <ngx-rooms></ngx-rooms>
  </div>
</div>
